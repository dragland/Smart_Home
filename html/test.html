<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/annyang/2.5.0/annyang.min.js"></script>
    <script src='https://code.responsivevoice.org/responsivevoice.js'></script>
    <script src="js/smartHome.js"></script>
  </head>
  <body>
  <script type="text/javascript">
    function listen(){
      document.getElementById("microphone").innerHTML = "listening...";
      responsiveVoice.speak('Hello Davy, How may I be of assistance?');
      if (annyang) {
        var lights = function(COLOR) {
          responsiveVoice.speak("As you wish.");
          document.location = "cgi-bin/switch.py?PIN_NUMBER=3";
        }
        var queryBot = function(QUERY) {
          responsiveVoice.speak(HTTP_GET("cgi-bin/ask.py?QUERY=" + QUERY));
        }
        var commands = {
          "lights :COLOR" : lights,
          "*QUERY": queryBot
        };
        annyang.addCommands(commands);
        annyang.start();
      }
    }
  </script>
    <img id="microphone_switch" onclick="listen()" src="res/icons/microphone.png">
    <h1 id="microphone" ></h1>
  </body
</html>
