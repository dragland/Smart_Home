<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/annyang/2.5.0/annyang.min.js"></script>
    <script src='https://code.responsivevoice.org/responsivevoice.js'></script>
    <script src="js/smartHome.js"></script>
  </head>
  <body>
    <img id="microphone_switch" src="res/icons/microphone.png">
    <h1 id="microphone" ></h1>
  </body>
  <script type="text/javascript">
    document.getElementById("microphone").innerHTML = "listening...";
    if (annyang) {
      var queryBot = function(QUERY) {
        responsiveVoice.speak(HTTP_GET("cgi-bin/ask.py?QUERY=" + QUERY));
      }
      var lights = function(COLOR) {
        document.location = "cgi-bin/switch.py?PIN_NUMBER=3";
      }
      var commands = {
        "lights": lights,
        "*QUERY": queryBot
      };
      annyang.addCommands(commands);
      annyang.start();
    }
  </script>
</html>